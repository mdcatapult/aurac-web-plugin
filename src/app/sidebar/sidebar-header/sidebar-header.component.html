<!--
  ~ Copyright 2022 Medicines Discovery Catapult
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<header>
  <div>
    <mat-slide-toggle
      (change)="compressedOrFloatingSidebar($event)"
      matTooltip="Toggle whether the sidebar sits over or next to the current webpage"
      matTooltipPosition="above"
    >
      Float sidebar
    </mat-slide-toggle>
  </div>

  <img [src]="imgSrc | safeResource" />

  <mat-toolbar class="aurac-toolbar">
    <span>Aurac</span>

    <mat-icon
      *ngIf="totalHighlights !== undefined"
      class="aurac-count"
      matBadge="{{ totalHighlights }}"
      matTooltip="{{ totalHighlights }} {{
        totalHighlights === 1 ? 'entity' : 'entities'
      }} highlighted on the current page"
      matTooltipPosition="above"
    >
      assignment_turned_in
    </mat-icon>

    <mat-icon
      *ngIf="error && error !== ''"
      class="aurac-error"
      matTooltip="Couldn't get occurrence count: {{ error }}"
      matTooltipPosition="above"
    >
      error
    </mat-icon>

    <span class="aurac-spacer"></span>

    <button
      mat-icon-button
      (click)="exportCSV()"
      matTooltip="Download the results for the cards currently in the sidebar to a CSV file"
      matTooltipPosition="above"
    >
      <mat-icon class="aurac-download-icon">publish</mat-icon>
    </button>

    <button
      mat-icon-button
      (click)="clearCards()"
      matTooltip="Remove all cards from the sidebar"
      matTooltipPosition="above"
    >
      <mat-icon class="aurac-delete-icon">delete</mat-icon>
    </button>
  </mat-toolbar>
</header>
